(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),c=n(19),i=n.n(c),o=n(7),l=(n(40),n(3)),d=n(4),u=n(6),p=n(5),h=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(a.jsxs)("a",{className:"navbar-brand nav-heading ml-5",href:"/house-let/",children:[Object(a.jsx)("i",{className:"fas fa-home icon pr-2"})," House Let"]})})}}]),n}(r.Component),b=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(h,{}),Object(a.jsx)("div",{className:"landing-container",children:Object(a.jsxs)("div",{className:"description",children:[Object(a.jsx)("span",{className:"heading",children:"House Let"}),Object(a.jsx)("span",{className:"heading-two",children:"One Stop for buy/sell your House"}),Object(a.jsxs)("div",{className:"button",children:[Object(a.jsx)("a",{href:"/house-let/admin/login",type:"button",className:"btn btn-primary m-2 mt-5 btn-lg",children:"Seller"}),Object(a.jsx)("a",{href:"/house-let/user",type:"button",className:"btn btn-secondary m-2 mt-5 btn-lg",children:"Buyer"})]})]})})]})}}]),n}(r.Component),j="ADMIN_LOGIN_START",m="ADMIN_LOGIN_SUCCESS",O="ADMIN_LOGIN_FAILED",f="ADMIN_SIGNUP_START",x="ADMIN_SIGNUP_SUCCESS",g="ADMIN_SIGNUP_FAILED",v="LOG_OUT",y="ADD_PROPERTY_START",N="ADD_PROPERTY_SUCCESS",C="ADD_PROPERTY_FAILED",S="FETCH_PROPERTY",w="FETCH_PROPERTY_DETAILS",k="FETCH_ALL_PROPERTY",P="USER_LOGIN_START",I="USER_LOGIN_SUCCESS",_="USER_LOGIN_FAILED",A="USER_SIGNUP_START",L="USER_SIGNUP_SUCCESS",T="USER_SIGNUP_FAILED",E="USER_RENT_APPLY",R="https://house-let.herokuapp.com",D=function(){return"".concat(R,"/admin/login")},U=function(){return"".concat(R,"/admin/register")},q=function(){return"".concat(R,"/admin/addproperty")},F=function(){return"".concat(R,"/admin/allproperty")},G=function(){return"".concat(R,"/admin/propertydetails")},H=function(){return"".concat(R,"/admin/propertystatus")},z=function(){return"".concat(R,"/user/allproperty")},B=function(){return"".concat(R,"/user/login")},M=function(){return"".concat(R,"/user/register")},Q=function(){return"".concat(R,"/user/applyrent")};function K(e){var t=[];for(var n in e){var a=encodeURIComponent(n),r=encodeURIComponent(e[n]);t.push(a+"="+r)}return t.join("&")}function Y(){return!!localStorage.getItem("token")}function W(){return!!localStorage.getItem("usertoken")}function J(){return localStorage.getItem("token")}function V(e,t){return function(n){n({type:j});var a=D();fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:K({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){if(e.success)return console.log("login data:",e),localStorage.setItem("token",e.user.token),void n((t=e.user,{type:m,user:t}));var t,a;n((a=e.message,{type:O,error:a}))}))}}function X(e){return{type:g,error:e}}function Z(e,t,n,a){return function(r){var s=U();fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:K({email:e,password:t,confirmPassword:n,name:a})}).then((function(e){return e.json()})).then((function(e){(console.log("all:",e),e.success)?r({type:x,user:e}):r(X(e.message))}))}}n(41);var $=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleLogout=function(){a.props.dispatch((localStorage.removeItem("token"),location.href="/house-let/admin/login",{type:v}))},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.auth.isLoggedin;return e=e||Y(),Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Y()?Object(a.jsxs)("a",{className:"navbar-brand nav-heading ml-5",href:"/house-let/admin/login",children:[Object(a.jsx)("i",{className:"fas fa-home icon pr-2"})," House Let"]}):Object(a.jsxs)("a",{className:"navbar-brand nav-heading ml-5",href:"/house-let/",children:[Object(a.jsx)("i",{className:"fas fa-home icon pr-2"})," House Let"]}),Object(a.jsx)("div",{className:"ml-auto mr-0",children:e?Object(a.jsx)("button",{type:"button",className:"btn btn-outline-info",onClick:this.handleLogout,children:"Logout"}):Object(a.jsxs)("div",{children:[Object(a.jsx)("a",{href:"/house-let/admin/login",type:"button",className:"btn btn-outline-info mr-5",children:"Login"}),Object(a.jsx)("a",{href:"/house-let/admin/signup",type:"button",className:"btn btn-outline-info",children:"Signup"})]})})]})}}]),n}(r.Component);var ee=Object(o.b)((function(e){return{auth:e.auth}}))($),te=n(9),ne=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault(),console.log("state",a.state);var t=a.state,n=t.email,r=t.password;n&&r&&a.props.dispatch(V(n,r))},a.state={email:"",password:""},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.auth,t=e.error,n=e.inProgress;return e.isLoggedin||Y()?Object(a.jsx)(te.a,{to:"/house-let/admin/home"}):Object(a.jsxs)("div",{children:[Object(a.jsx)(ee,{}),Object(a.jsxs)("form",{className:"login-form",children:[Object(a.jsx)("span",{className:"login-signup-header",children:"Login"}),t&&Object(a.jsx)("div",{className:"alert error-dailog",children:t}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"email",placeholder:"Email",required:!0,onChange:this.handleEmailChange,value:this.state.email})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:this.handlePasswordChange,value:this.state.password})}),Object(a.jsx)("div",{className:"field",children:n?Object(a.jsx)("button",{onClick:this.handleFormSubmit,disabled:n,children:"Logging in..."}):Object(a.jsx)("button",{onClick:this.handleFormSubmit,disabled:n,children:"Log In"})})]})]})}}]),n}(r.Component);var ae=Object(o.b)((function(e){return{auth:e.auth}}))(ne),re=n(15),se=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e,t){a.setState(Object(re.a)({},e,t))},a.onFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,s=t.confirmPassword,c=t.name;s!==r?a.props.dispatch(X("Password and confirm-password not match!")):n&&r&&s&&c?(a.props.dispatch({type:f}),a.props.dispatch(Z(n,r,s,c))):a.props.dispatch(X("Enter valid field!"))},a.state={email:"",password:"",name:"",confirmPassword:""},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.auth,n=t.inProgress,r=t.error;return t.isSignup?Object(a.jsx)(te.a,{to:"/house-let/admin/login"}):Object(a.jsxs)("div",{children:[Object(a.jsx)(ee,{}),Object(a.jsxs)("form",{className:"login-form",children:[Object(a.jsx)("span",{className:"login-signup-header",children:"SignUp"}),r&&Object(a.jsx)("div",{className:"alert error-dailog",children:r}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"text",placeholder:"Name",required:!0,onChange:function(t){return e.handleInputChange("name",t.target.value)},value:this.state.name})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"email",placeholder:"Email",required:!0,onChange:function(t){return e.handleInputChange("email",t.target.value)},value:this.state.email})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:function(t){return e.handleInputChange("password",t.target.value)},value:this.state.password})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"password",placeholder:"Confirm Password",required:!0,onChange:function(t){return e.handleInputChange("confirmPassword",t.target.value)},value:this.state.confirmPassword})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("button",{onClick:this.onFormSubmit,disabled:n,children:"Signup"})})]})]})}}]),n}(r.Component),ce=Object(o.b)((function(e){return{auth:e.auth}}))(se),ie=n(30),oe=[];function le(e){return{type:C,msg:e}}function de(e,t,n,a,r,s){return function(c){c({type:y});var i=q();fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(J())},body:K({name:e,city:t,rent:n,phone:a,bhk:r,description:s})}).then((function(e){return e.json()})).then((function(e){if(e.success)return c((t=e.message,{type:N,msg:t})),void location.reload();var t;c(le("Server Error! Try again"))}))}}function ue(){return function(e){var t=F();fetch(t,{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(J())}}).then((function(e){return e.json()})).then((function(t){t.success&&e(function(e){return{type:S,data:e}}(t.Property))}))}}function pe(){return function(e){var t=z();fetch(t,{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(t){if(t.success)return oe.length=0,oe.push.apply(oe,Object(ie.a)(t.property)),void e(function(e){return{type:k,data:e}}(t.property))}))}}function he(){var e=window.location.href.split(":").reverse()[0];return function(t){var n=G();fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(J())},body:K({propertyID:e})}).then((function(e){return e.json()})).then((function(e){e.success&&t(function(e){return{type:w,data:e}}(e.property))}))}}var be=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(ue())}},{key:"render",value:function(){var e=this.props.auth.isLoggedin,t=this.props.isadd.allproperty;return(e=e||Y())?Object(a.jsxs)("div",{children:[Object(a.jsx)(ee,{}),Object(a.jsx)(Oe,{}),t?Object(a.jsx)("div",{className:"display-properties",children:t.map((function(e){return Object(a.jsx)(fe,{property:e},e._id)}))}):Object(a.jsxs)("div",{className:"display-properties",children:[" ",Object(a.jsx)("h1",{children:"No Data"})," "]}),0==t.length&&Object(a.jsx)("div",{className:"display-properties",children:Object(a.jsx)("h1",{children:"Add properties!"})})]}):Object(a.jsx)(te.a,{to:"/house-let/admin/login"})}}]),n}(r.Component);var je=Object(o.b)((function(e){return{auth:e.auth,isadd:e.isadd}}))(be),me=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e,t){a.setState(Object(re.a)({},e,t))},a.clearInputState=function(){a.setState({name:"",city:"",rent:"",phone:"",bhk:"",description:""}),a.props.dispatch(le(""))},a.onFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.city,s=t.rent,c=t.phone,i=t.bhk,o=t.description;n&&r&&s&&c&&i&&o?a.props.dispatch(de(n,r,s,c,i,o)):a.props.dispatch(le("Enter valid field!"))},a.state={name:"",city:"",rent:"",phone:"",bhk:"",description:""},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.isadd,n=t.message;t.inProgress;return Object(a.jsxs)("div",{style:{marginTop:"15px"},children:[Object(a.jsx)("div",{className:"add-property",children:Object(a.jsx)("button",{type:"button",className:"btn btn btn-primary","data-toggle":"modal","data-target":"#staticBackdrop",children:"Add Property"})}),Object(a.jsx)("div",{className:"modal fade",id:"staticBackdrop","data-backdrop":"static","data-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add House for Rent"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:this.clearInputState,children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"modal-body",children:[n&&Object(a.jsx)("div",{className:"alert success-dailog",children:n}),Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"text",placeholder:"Name*",required:!0,onChange:function(t){return e.handleInputChange("name",t.target.value)},value:this.state.name})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"text",placeholder:"City*",required:!0,onChange:function(t){return e.handleInputChange("city",t.target.value)},value:this.state.city})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"number",placeholder:"Contact No*",required:!0,onChange:function(t){return e.handleInputChange("phone",t.target.value)},value:this.state.phone})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"number",placeholder:"Rent*",required:!0,onChange:function(t){return e.handleInputChange("rent",t.target.value)},value:this.state.rent})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"number",placeholder:"BHK*",required:!0,onChange:function(t){return e.handleInputChange("bhk",t.target.value)},value:this.state.bhk})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"text",placeholder:"Description*",required:!0,onChange:function(t){return e.handleInputChange("description",t.target.value)},value:this.state.description})})]})]}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.onFormSubmit,children:"Submit"})})]})})})]})}}]),n}(r.Component),Oe=Object(o.b)((function(e){return{isadd:e.isadd}}))(me),fe=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){console.log("alldata:",this.props.property.rentApply);var e=this.props.property,t=e.name,n=e.city,r=e.rent,s=e.bhk,c=e.description,i=e.phone,o=e._id;return Object(a.jsxs)("div",{className:"card",style:{width:"18rem",margin:"5px 5px 5px 5px",display:"inline-block"},children:[Object(a.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQyWmTKjbzc5iD-b9RrkzL7dtGQf_pOxghr4Q&usqp=CAU",className:"card-img-top",alt:"..."}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("h5",{className:"card-title",children:[t," || ",Object(a.jsx)("i",{children:n})," "]}),Object(a.jsxs)("p",{className:"card-text",children:[Object(a.jsx)("span",{className:"bg-blue",children:"Size/BHK"}),":",s,", ",Object(a.jsx)("span",{className:"bg-blue",children:"Rent"}),":",r," p/m"]}),Object(a.jsxs)("p",{className:"card-text",children:[" ",Object(a.jsx)("span",{className:"bg-blue",children:"Contact No"}),": ",i]}),Object(a.jsx)("p",{className:"card-description",style:{fontSize:"13px"},children:c}),Object(a.jsx)("a",{href:"/admin/profile:"+o,className:"btn btn-primary",children:"Vew Applications"})]})]})}}]),n}(r.Component),xe=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(he())}},{key:"render",value:function(){var e=this.props.property.rentApply;return Object(a.jsxs)("div",{children:[Object(a.jsx)(ee,{}),Object(a.jsx)("h1",{className:"mx-5 mt-2 text-blue",children:"Rent Application"}),e?Object(a.jsx)("div",{style:{margin:"10px 10px 10px 10px"},children:e.map((function(e){return Object(a.jsx)(ye,{user:e},e._id)}))}):Object(a.jsx)("div",{style:{margin:"10px 10px 10px 10px"},children:Object(a.jsx)("h1",{children:"No Application"})})]})}}]),n}(r.Component);var ge=Object(o.b)((function(e){return{property:e.isadd.selectedProperty}}))(xe),ve=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).submitApplicationStatus=function(e,t){a.props.dispatch(function(e,t){return function(n){var a=H();fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(J())},body:K({id:e,status:t})}).then((function(e){return e.json()})).then((function(e){console.log(e),location.reload()}))}}(e,t))},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.user,n=t.buyer,r=n.name,s=n.phone;return Object(a.jsx)("div",{className:"card",style:{width:"18rem",margin:"5px 5px 5px 5px",display:"inline-block"},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:r}),Object(a.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:s}),Object(a.jsx)("p",{className:"card-text",children:"House look Great to me can we schedulae a call to some price negoitiation."}),0===t.status&&Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"btn btn-success m-2",onClick:function(n){return e.submitApplicationStatus(t._id,1)},children:"Accept"}),Object(a.jsx)("button",{className:"btn btn-danger m-2",onClick:function(n){return e.submitApplicationStatus(t._id,2)},children:"Decline"})]}),1===t.status&&Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"btn btn-success m-2",disabled:!0,children:"Accepted"})}),2===t.status&&Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"btn btn-danger m-2",disabled:!0,children:"Decline"})})]})})}}]),n}(r.Component);var ye=Object(o.b)((function(e){return{isadd:e.isadd}}))(ve),Ne=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e,t){a.setState(Object(re.a)({},e,t))},a.applyFilter=function(e){e.preventDefault();var t=a.state,n=t.bhk,r=t.rent,s=t.city,c=[];c=r?oe.filter((function(e){return e.rent<=r})):s?oe.filter((function(e){return e.city==s})):n?oe.filter((function(e){return e.bhk==n})):n&&r&&s?oe.filter((function(e){return e.bhk==n&&e.city==s&&e.rent<=r})):n&&r?oe.filter((function(e){return e.bhk==n&&e.rent<=r})):n&&s?oe.filter((function(e){return e.bhk==n&&e.city==s})):oe.filter((function(e){return e.rent<=r&&e.city==s})),a.setState({isfilterapply:!0,data:c})},a.removefilter=function(){a.setState({city:"",bhk:"",rent:"",isfilterapply:!1,data:[]})},a.state={city:"",bhk:"",rent:"",isfilterapply:!1,data:[]},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(pe())}},{key:"render",value:function(){var e=this,t=(this.props.user,this.state),n=t.isfilterapply,r=t.data;return n||(r=oe),Object(a.jsxs)("div",{children:[Object(a.jsx)(Le,{}),Object(a.jsxs)("form",{className:"form-inline filter-container",children:[Object(a.jsx)("span",{className:"filter-heading",children:"Filters:"}),Object(a.jsx)("div",{className:"form-group mx-sm-3",children:Object(a.jsx)("input",{type:"text",className:"form-control",id:"inputPassword2",placeholder:"City",onChange:function(t){return e.handleInputChange("city",t.target.value)},value:this.state.city})}),Object(a.jsx)("div",{className:"form-group mx-sm-3",children:Object(a.jsx)("input",{type:"number",className:"form-control",id:"inputPassword2",placeholder:"BHK",onChange:function(t){return e.handleInputChange("bhk",t.target.value)},value:this.state.bhk})}),Object(a.jsx)("div",{className:"form-group mx-sm-3",children:Object(a.jsx)("input",{type:"number",className:"form-control",id:"inputPassword2",placeholder:"Rent",onChange:function(t){return e.handleInputChange("rent",t.target.value)},value:this.state.rent})}),n?Object(a.jsx)("i",{className:"fa fa-close ml-3",style:{fontSize:"30px",color:"red"},onClick:this.removefilter}):Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:this.applyFilter,children:"Apply"})]}),r.length<=0?Object(a.jsx)("div",{className:"loader"}):Object(a.jsx)("div",{className:"display-properties",children:r.map((function(e){return Object(a.jsx)(Ee,{property:e},e._id)}))})]})}}]),n}(r.Component);var Ce=Object(o.b)((function(e){return{user:e.user}}))(Ne);function Se(e){return console.log(e),{type:_,error:e}}function we(e,t){return function(n){n({type:P});var a=B();fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:K({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){if(e.success)return localStorage.setItem("usertoken",e.user.token),localStorage.setItem("userId",e.user.id),void n(function(e){return{type:I,data:e}}(e.user));n(Se(e.message))}))}}function ke(e){return console.log(e),{type:T,error:e}}function Pe(e,t,n,a,r){return function(s){var c=M();fetch(c,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:K({email:e,phone:r,password:t,confirmPassword:n,name:a})}).then((function(e){return e.json()})).then((function(e){console.log("all:",e),e.success?s(function(e){return{type:L,data:e}}(e)):s(ke(e.message))}))}}function Ie(e){return function(t){var n=Q();localStorage.getItem("userId");fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:K({userID:localStorage.getItem("userId"),propertyID:e._id})}).then((function(e){return e.json()})).then((function(e){if(e.success)return t({type:E}),void location.reload()}))}}var _e=n(14),Ae=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleUserLogout=function(){a.props.dispatch((localStorage.removeItem("usertoken"),localStorage.removeItem("userId"),{type:v}))},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.user;e.isLoggedin,e.error,e.inProgress;return Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[W()?Object(a.jsxs)("a",{className:"navbar-brand nav-heading ml-5",href:"/house-let/user",children:[Object(a.jsx)("i",{className:"fas fa-home icon pr-2"})," House Let"]}):Object(a.jsxs)("a",{className:"navbar-brand nav-heading ml-5",href:"/house-let/",children:[Object(a.jsx)("i",{className:"fas fa-home icon pr-2"})," House Let"]}),W()&&Object(a.jsxs)("div",{className:"ml-auto mr-0",children:[Object(a.jsx)(_e.b,{to:"/house-let/user/profile",children:Object(a.jsx)("button",{type:"button",className:"btn btn-info mr-5",children:"Profile"})}),Object(a.jsx)("button",{type:"button",className:"btn btn-outline-info",onClick:this.handleUserLogout,children:"Logout"})]}),!W()&&Object(a.jsxs)("div",{className:"ml-auto mr-0",children:[Object(a.jsx)("a",{href:"/house-let/user/login",type:"button",className:"btn btn-outline-info mr-5",children:"Login"}),Object(a.jsx)("a",{href:"/house-let/user/signup",type:"button",className:"btn btn-outline-info",children:"Signup"})]})]})}}]),n}(r.Component);var Le=Object(o.b)((function(e){return{user:e.user}}))(Ae),Te=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleapply=function(e){a.props.dispatch(Ie(e))},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=(this.props.user.applyRent,this.props.property),n=t.name,r=t.city,s=t.rent,c=t.bhk,i=t.description,o=t.phone,l=t._id,d=t.rentApply,u=!1;return d.map((function(e){console.log("rent:",e.buyer._id),e.buyer._id==localStorage.getItem("userId")&&(u=!0)})),Object(a.jsxs)("div",{className:"card",style:{width:"18rem",margin:"5px 5px 5px 5px",display:"inline-block"},id:l,children:[Object(a.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQyWmTKjbzc5iD-b9RrkzL7dtGQf_pOxghr4Q&usqp=CAU",className:"card-img-top",alt:"img"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("h5",{className:"card-title",children:[n," || ",Object(a.jsx)("i",{children:r})," "]}),Object(a.jsxs)("p",{className:"card-text",children:[Object(a.jsx)("span",{className:"bg-blue",children:"Size/BHK"}),":",c,", ",Object(a.jsx)("span",{className:"bg-blue",children:"Rent"}),":",s," p/m"]}),Object(a.jsxs)("p",{className:"card-text",children:[" ",Object(a.jsx)("span",{className:"bg-blue",children:"Contact No"}),": ",o]}),Object(a.jsx)("p",{className:"card-description",style:{fontSize:"13px"},children:i}),W()&&!u&&Object(a.jsx)("a",{className:"btn btn-primary",onClick:function(){return e.handleapply({_id:l})},children:"Apply"}),W()&&u&&Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){return e.handleapply({_id:l})},disabled:!0,children:"Applied"})]})]})}}]),n}(r.Component);var Ee=Object(o.b)((function(e){return{user:e.user}}))(Te),Re=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault(),console.log("state",a.state);var t=a.state,n=t.email,r=t.password;n&&r?a.props.dispatch(we(n,r)):a.props.dispatch(Se("Invalid Fields!"))},a.state={email:"",password:""},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.user,t=e.error,n=e.inProgress;return e.isLoggedin||W()?Object(a.jsx)(te.a,{to:"/house-let/user"}):Object(a.jsxs)("div",{children:[Object(a.jsx)(Le,{}),Object(a.jsxs)("form",{className:"login-form",children:[Object(a.jsx)("span",{className:"login-signup-header",children:"Login"}),t&&Object(a.jsx)("div",{className:"alert error-dailog",children:t}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"email",placeholder:"Email",required:!0,onChange:this.handleEmailChange,value:this.state.email})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:this.handlePasswordChange,value:this.state.password})}),Object(a.jsx)("div",{className:"field",children:n?Object(a.jsx)("button",{onClick:this.handleFormSubmit,disabled:n,children:"Logging in..."}):Object(a.jsx)("button",{onClick:this.handleFormSubmit,disabled:n,children:"Log In"})})]})]})}}]),n}(r.Component);var De=Object(o.b)((function(e){return{user:e.user}}))(Re),Ue=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e,t){a.setState(Object(re.a)({},e,t))},a.onFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.phone,s=t.password,c=t.confirmPassword,i=t.name;c!==s?a.props.dispatch(ke("Password and confirm-password not match!")):n&&s&&c&&i&&r?(a.props.dispatch({type:A}),a.props.dispatch(Pe(n,s,c,i,r))):a.props.dispatch(ke("Enter valid field!"))},a.state={email:"",password:"",name:"",phone:"",confirmPassword:""},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.user,n=t.error,r=t.inProgress,s=t.isSignup;return Object(a.jsxs)("div",{children:[Object(a.jsx)(Le,{}),Object(a.jsxs)("form",{className:"login-form",children:[Object(a.jsx)("span",{className:"login-signup-header",children:"SignUp"}),n&&Object(a.jsx)("div",{className:"alert error-dailog",children:n}),s&&Object(a.jsx)("div",{className:"alert success-dailog",children:"Successfull! goto Login Page."}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"text",placeholder:"Name",required:!0,onChange:function(t){return e.handleInputChange("name",t.target.value)},value:this.state.name})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"email",placeholder:"Email",required:!0,onChange:function(t){return e.handleInputChange("email",t.target.value)},value:this.state.email})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"number",placeholder:"Contact No",required:!0,onChange:function(t){return e.handleInputChange("phone",t.target.value)},value:this.state.phone})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:function(t){return e.handleInputChange("password",t.target.value)},value:this.state.password})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("input",{type:"password",placeholder:"Confirm Password",required:!0,onChange:function(t){return e.handleInputChange("confirmPassword",t.target.value)},value:this.state.confirmPassword})}),Object(a.jsx)("div",{className:"field",children:Object(a.jsx)("button",{onClick:this.onFormSubmit,disabled:r,children:"Signup"})})]})]})}}]),n}(r.Component);var qe=Object(o.b)((function(e){return{user:e.user}}))(Ue),Fe=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return W()?Object(a.jsxs)("div",{children:[Object(a.jsx)(Le,{}),Object(a.jsx)("h1",{className:"text-white p-2",style:{marginLeft:"30vw"},children:"Applied Houses"}),oe.length<=0?Object(a.jsx)("div",{className:"loader"}):Object(a.jsx)("div",{className:"display-properties",children:oe.map((function(e){return Object(a.jsx)(ze,{property:e},e._id)}))})]}):Object(a.jsx)(te.a,{to:"/house-let/user"})}}]),n}(r.Component);var Ge=Object(o.b)((function(e){return{user:e.user}}))(Fe),He=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleapply=function(e){a.props.dispatch(Ie(e))},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.property,n=t.name,r=t.city,s=t.rent,c=t.bhk,i=t.description,o=t.phone,l=t._id,d=t.rentApply,u=!1,p=0;return d.map((function(e){e.buyer._id==localStorage.getItem("userId")&&(u=!0,p=e.status)})),Object(a.jsx)("div",{style:{display:"inline-block"},children:u?Object(a.jsxs)("div",{className:"card",style:{width:"18rem",margin:"5px 5px 5px 5px",display:"inline-block"},id:l,children:[Object(a.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQyWmTKjbzc5iD-b9RrkzL7dtGQf_pOxghr4Q&usqp=CAU",className:"card-img-top",alt:"..."}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("h5",{className:"card-title",children:[n," || ",Object(a.jsx)("i",{children:r})," "]}),Object(a.jsxs)("p",{className:"card-text",children:[Object(a.jsx)("span",{className:"bg-blue",children:"Size/BHK"}),":",c,", ",Object(a.jsx)("span",{className:"bg-blue",children:"Rent"}),":",s," p/m"]}),Object(a.jsxs)("p",{className:"card-text",children:[" ",Object(a.jsx)("span",{className:"bg-blue",children:"Contact No"}),": ",o]}),Object(a.jsx)("p",{className:"card-description",style:{fontSize:"13px"},children:i}),0===p&&Object(a.jsx)("a",{className:"btn btn-primary",onClick:function(){return e.handleapply({_id:l})},children:"No Update"}),1===p&&Object(a.jsx)("a",{className:"btn btn-success",onClick:function(){return e.handleapply({_id:l})},children:"Accept"}),2===p&&Object(a.jsx)("a",{className:"btn btn-danger",onClick:function(){return e.handleapply({_id:l})},children:"Reject"})]})]}):""})}}]),n}(r.Component);var ze=Object(o.b)((function(e){return{user:e.user}}))(He),Be="/house-let",Me=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(pe())}},{key:"render",value:function(){this.props.auth;return Object(a.jsx)(_e.a,{children:Object(a.jsx)("div",{children:Object(a.jsxs)(te.d,{children:[Object(a.jsx)(te.b,{exact:!0,path:Be+"/",component:b}),Object(a.jsx)(te.b,{exact:!0,path:Be+"/admin/login",component:ae}),Object(a.jsx)(te.b,{exact:!0,path:Be+"/admin/signup",component:ce}),Object(a.jsx)(te.b,{exact:!0,path:Be+"/admin/home",component:je}),Object(a.jsx)(te.b,{exact:!0,path:"/admin/profile:id",component:ge}),Object(a.jsx)(te.b,{exact:!0,path:Be+"/user",component:Ce}),Object(a.jsx)(te.b,{exact:!0,path:Be+"/user/login",component:De}),Object(a.jsx)(te.b,{exact:!0,path:Be+"/user/signup",component:qe}),Object(a.jsx)(te.b,{exact:!0,path:Be+"/user/profile",component:Ge})]})})})}}]),n}(r.Component);var Qe=Object(o.b)((function(e){return{auth:e.auth}}))(Me),Ke=n(16),Ye=n(28),We=n(29),Je=n.n(We),Ve=n(2),Xe={user:{},error:null,isLoggedin:!1,inProgress:!1,isSignup:!1};var Ze={allproperty:[],message:null,inProgress:!1,selectedProperty:{}};var $e={allproperty:[],isLoggedin:!1,inProgress:!1,error:null,buyer_data:{},isSignup:!1,applyRent:!1};var et=Object(Ke.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:case f:return Object(Ve.a)(Object(Ve.a)({},e),{},{inProgress:!0});case m:return Object(Ve.a)(Object(Ve.a)({},e),{},{isLoggedin:!0,inProgress:!1,error:null,user:t.user});case x:return Object(Ve.a)(Object(Ve.a)({},e),{},{isSignup:!0,inProgress:!1,error:null});case O:case g:return Object(Ve.a)(Object(Ve.a)({},e),{},{inProgress:!1,error:t.error});case v:return Object(Ve.a)(Object(Ve.a)({},e),{},{user:{},isLoggedin:!1});default:return e}},isadd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(Ve.a)(Object(Ve.a)({},e),{},{inProgress:!0});case N:return Object(Ve.a)(Object(Ve.a)({},e),{},{inProgress:!1,message:t.msg});case C:return Object(Ve.a)(Object(Ve.a)({},e),{},{message:t.msg});case S:return Object(Ve.a)(Object(Ve.a)({},e),{},{allproperty:t.data});case w:return Object(Ve.a)(Object(Ve.a)({},e),{},{selectedProperty:t.data});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(Ve.a)(Object(Ve.a)({},e),{},{allproperty:t.data});case P:case A:return Object(Ve.a)(Object(Ve.a)({},e),{},{inProgress:!0});case I:return Object(Ve.a)(Object(Ve.a)({},e),{},{inProgress:!1,isLoggedin:!0,error:null,buyer_data:t.data});case L:return Object(Ve.a)(Object(Ve.a)({},e),{},{isSignup:!0});case _:case T:return Object(Ve.a)(Object(Ve.a)({},e),{},{inProgress:!1,error:t.error});case v:return Object(Ve.a)(Object(Ve.a)({},e),{},{isLoggedin:!1,buyer_data:{}});case E:return Object(Ve.a)(Object(Ve.a)({},e),{},{applyRent:!0});default:return e}}});var tt=Object(Ke.d)(et,Object(Ke.a)(Ye.a,Je.a));i.a.render(Object(a.jsx)(o.a,{store:tt,children:Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(Qe,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.f4f3d960.chunk.js.map